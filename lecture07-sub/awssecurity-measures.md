# AWSでのセキュリティ対策
## AWS Certificate Manager（ACM）
  - SSL/TLS証明書を発行するマネージドサービス
  - ELB・EC2・CloudFront・APIGatewayにアタッチすることができ、ユーザーとサービス間の通信を暗号化しのぞき見を防げる（アタッチしただけではHTTP通信の経路は開かれたままな為必ずHTTPS通信を経由できるように設定を行う　例：ALBの場合リスナールールでHTTPアクセスをHTTPSに転送するルールを追加する）
  - ACMの提供機能

| 項目 | 設定内容 |
| ---- | ---- |
| 証明書発行機能 | ドメイン検証済みパブリック証明書/プライベート証明書を発行しAWSで利用可能にする機能 |
| 証明書のインポート機能 | オンプレミスなどで使われている既存の証明書をインポートしAWSで利用可能にする機能 |
| 証明書のデプロイメント機能 | AWSサービスに証明書を配備する機能 |

  - ACMの利用料金

| 項目 | 内容 |
| ---- | ---- |
| SSL/TLS証明書 | パブリックSSL/TLS証明書：無料、プライベートSSL/TLS証明書：発行した証明書とプライベート認証局の数に応じた従量課金 |

## Amazon Inspector
  - EC2を評価し脆弱性管理をサポートするサービス
  - EC2にAmazon Inspectorエージェントをインストールしサーバ内部から脆弱性を確認するホスト型診断とエージェントの導入が不要な外部ネットワーク型診断の2つがある
  - Amazon Inspectorの利用料金：評価したインスタンスの数と回数に応じた請求

## AWS Security Hub
  - リスク分析サービスなどの情報を集約し一元管理するサービス（AWSの設定情報を検索し、脆弱な部分を指摘したり特定の業界基準に準拠しているかを確認してくれる）
  - Security Hubの利用料金

| 項目 | 内容 |
| ---- | ---- |
| 検索結果の取り込み | 各種サービスの検出結果の取り込み回数に応じた従量課金 |
| セキュリティチェック | セキュリティチェックの回数に応じた従量課金 |

## AWS Secrets Manager
  - データベースのパスワードやAPIキーなどデータ流出の危険性がある認証情報（シークレット）を集約し管理するサービス
  - シークレットはKMSで暗号化して保存できるためセキュアにシークレット管理できる
  - Secrets Managerの利用料金

| 項目 |内容 |
| ---- | ---- |
| シークレット | シークレットの数に応じた従量課金 |
| API | シークレット利用に伴うAPI呼び出し回数に応じた従量課金 |

## AWS Key Management Service（KMS）
  - データを暗号化するための鍵を管理するサービス
  - 主に2つの機能があり、暗号鍵を自分で用意しなくても良いというのが特徴
   - EBS・S3などの透化的暗号化
   - AWS CLIなどを用いた鍵の利用（ファイルや文字列を暗号化できる）
  - KMS鍵自体がIAMポリシーとキーポリシーと二重で権限管理されている為鍵の利用権限がないと複合できない点が◎
  - KMSの利用料金

| 項目 | 内容 |
| ---- | ---- |
| CMK | CMKを保持している場合、一定額の利用料金が請求される |
| キー | キー利用時のAPIリクエスト数に応じた従量課金 |

## AWS Shield
  - DDoS攻撃からシステムを保護する仕組み
  - Shieldの種類

| 種類 | 説明 |
| ---- | ---- |
| Standard | L3・L4を対象としたDDoS攻撃からシステムを保護する機能・デフォルトで有効化されており無料で利用できる |
| Advanced | Standard機能に加えて、対応サービスにALBが追加、DDoS攻撃疑いがある情報の通知、専任チームの待機、DDoS攻撃が原因とされるスケール費用の免除 |

  - Shieldの利用料金

| 項目 | 内容 |
| ---- | ---- |
| Standard | 無料 |
| Advanced | 月額料金と転送されたデータ量に応じた請求 |

## AWS IAM Access Analyzer
  - 追加費用無しでセキュリティ上のリスクであるリソースとデータへの意図しない外部アクセス設定がされていないか（リソースが保護されているか）の特定に役立つサービス
  - ※全てのリソースタイプがサポートされているわけではない

## Amazon GuardDuty
  - ユーザーの動作や通信をAIがモニタリング・分析し脅威を識別する脅威検出サービス
  - VPCフローログ・CloudTrail・Route53のDNSログをインプットして解析を行う
  - 利用料金はCloudTrailのイベント数、ならびにVPCフローログ、およびDNSログのデータ量に応じた従量課金
